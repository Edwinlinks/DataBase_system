{"remainingRequest":"/home/luotinkai/Documents/代码及数据库/fxBox/vue/node_modules/babel-loader/lib/index.js!/home/luotinkai/Documents/代码及数据库/fxBox/vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/luotinkai/Documents/代码及数据库/fxBox/vue/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/luotinkai/Documents/代码及数据库/fxBox/vue/src/views/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/luotinkai/Documents/代码及数据库/fxBox/vue/src/views/Login.vue","mtime":1653986410906},{"path":"/home/luotinkai/Documents/代码及数据库/fxBox/vue/babel.config.js","mtime":1638358162000},{"path":"/home/luotinkai/Documents/代码及数据库/fxBox/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/luotinkai/Documents/代码及数据库/fxBox/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/luotinkai/Documents/代码及数据库/fxBox/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/luotinkai/Documents/代码及数据库/fxBox/vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgcmVxdWVzdCBmcm9tICJAL3V0aWxzL3JlcXVlc3QiOwppbXBvcnQgVmFsaWRDb2RlIGZyb20gIkAvY29tcG9uZW50cy9WYWxpZENvZGUiOwppbXBvcnQgeyBhY3RpdmVSb3V0ZXIgfSBmcm9tICJAL3V0aWxzL3Blcm1pc3Npb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBjb21wb25lbnRzOiB7CiAgICBWYWxpZENvZGU6IFZhbGlkQ29kZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZlZGlvQ2FuUGxheTogZmFsc2UsCiAgICAgIGZpeFN0eWxlOiAnJywKICAgICAgZm9ybTogewogICAgICAgIHJvbGU6IDEKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggScsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICB2YWxpZENvZGU6ICcnIC8vIOWKoOiDjOaZr+WbvueJhwogICAgICAvLyBiZzogewogICAgICAvLyAgIGJhY2tncm91bmRJbWFnZTogInVybCgiICsgcmVxdWlyZSgiQC9hc3NldHMvYmcuanBnIikgKyAiKSIsCiAgICAgIC8vICAgYmFja2dyb3VuZFJlcGVhdDogIm5vLXJlcGVhdCIsCiAgICAgIC8vICAgYmFja2dyb3VuZFNpemU6ICIxMDAlIDEwMCUiCiAgICAgIC8vIH0KCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlciIpOwoKICAgIHdpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHdpbmRvd1dpZHRoID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDsKICAgICAgdmFyIHdpbmRvd0hlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OwogICAgICB2YXIgd2luZG93QXNwZWN0UmF0aW8gPSB3aW5kb3dIZWlnaHQgLyB3aW5kb3dXaWR0aDsKICAgICAgdmFyIHZpZGVvV2lkdGg7CiAgICAgIHZhciB2aWRlb0hlaWdodDsKCiAgICAgIGlmICh3aW5kb3dBc3BlY3RSYXRpbyA8IDAuNTYyNSkgewogICAgICAgIHZpZGVvV2lkdGggPSB3aW5kb3dXaWR0aDsKICAgICAgICB2aWRlb0hlaWdodCA9IHZpZGVvV2lkdGggKiAwLjU2MjU7CiAgICAgICAgX3RoaXMuZml4U3R5bGUgPSB7CiAgICAgICAgICBoZWlnaHQ6IHdpbmRvd1dpZHRoICogMC41NjI1ICsgJ3B4JywKICAgICAgICAgIHdpZHRoOiB3aW5kb3dXaWR0aCArICdweCcsCiAgICAgICAgICAnbWFyZ2luLWJvdHRvbSc6ICh3aW5kb3dIZWlnaHQgLSB2aWRlb0hlaWdodCkgLyAyICsgJ3B4JywKICAgICAgICAgICdtYXJnaW4tbGVmdCc6ICdpbml0aWFsJwogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmlkZW9IZWlnaHQgPSB3aW5kb3dIZWlnaHQ7CiAgICAgICAgdmlkZW9XaWR0aCA9IHZpZGVvSGVpZ2h0IC8gMC41NjI1OwogICAgICAgIF90aGlzLmZpeFN0eWxlID0gewogICAgICAgICAgaGVpZ2h0OiB3aW5kb3dIZWlnaHQgKyAncHgnLAogICAgICAgICAgd2lkdGg6IHdpbmRvd0hlaWdodCAvIDAuNTYyNSArICdweCcsCiAgICAgICAgICAnbWFyZ2luLWxlZnQnOiAod2luZG93V2lkdGggLSB2aWRlb1dpZHRoKSAvIDIgKyAncHgnLAogICAgICAgICAgJ21hcmdpbi1ib3R0b20nOiAnaW5pdGlhbCcKICAgICAgICB9OwogICAgICB9CiAgICB9OwoKICAgIHdpbmRvdy5vbnJlc2l6ZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgY2FucGxheTogZnVuY3Rpb24gY2FucGxheSgpIHsKICAgICAgdGhpcy52ZWRpb0NhblBsYXkgPSB0cnVlOwogICAgfSwKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICByZXF1ZXN0LnBvc3QoIi9hZG1pbi9sb2dpbiIsIF90aGlzMi5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAnMCcpIHsKICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgbWVzc2FnZTogIueZu+W9leaIkOWKnyIKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlciIsIEpTT04uc3RyaW5naWZ5KHJlcy5kYXRhKSk7IC8vIOe8k+WtmOeUqOaIt+S/oeaBrwogICAgICAgICAgICAgIC8vIOeZu+W9leaIkOWKn+eahOaXtuWAmeabtOaWsOW9k+WJjei3r+eUsQoKICAgICAgICAgICAgICBhY3RpdmVSb3V0ZXIoKTsKCiAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgiLyIpOyAvL+eZu+W9leaIkOWKn+S5i+WQjui/m+ihjOmhtemdoueahOi3s+i9rO+8jOi3s+i9rOWIsOS4u+mhtQoKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":"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","names":["request","ValidCode","activeRouter","name","components","data","vedioCanPlay","fixStyle","form","role","rules","username","required","message","trigger","password","validCode","mounted","sessionStorage","removeItem","window","onresize","windowWidth","document","body","clientWidth","windowHeight","clientHeight","windowAspectRatio","videoWidth","videoHeight","height","width","methods","canplay","login","$refs","validate","valid","post","then","res","code","$message","type","setItem","JSON","stringify","$router","push","msg"],"sourceRoot":"","sources":["/home/luotinkai/Documents/代码及数据库/fxBox/vue/src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"homepage-hero-module\">\n    <div class=\"video-container\">\n      <div :style=\"fixStyle\" class=\"filter\">\n        <div style=\"width: 400px; margin: 100px auto\">\n          <div style=\"font-size: 30px; text-align: center; padding: 30px 0; color: #333\">物料管理系统</div>\n          <el-form ref=\"form\" :model=\"form\" size=\"normal\" :rules=\"rules\">\n            <el-form-item prop=\"username\">\n              <el-input prefix-icon=\"el-icon-user-solid\" v-model=\"form.username\" placeholder=\"请输入账号\"></el-input>\n            </el-form-item>\n            <el-form-item prop=\"password\">\n              <el-input prefix-icon=\"el-icon-lock\" v-model=\"form.password\" show-password placeholder=\"请输入密码\"></el-input>\n            </el-form-item>\n<!--            <el-form-item>-->\n<!--              <el-radio v-model=\"form.role\" :label=\"1\" style=\"color: white\">管理员</el-radio>-->\n<!--              <el-radio v-model=\"form.role\" :label=\"2\" style=\"color: white\">普通用户</el-radio>-->\n<!--            </el-form-item>-->\n            <el-form-item>\n              <el-button style=\"width: 100%\" type=\"primary\" @click=\"login\">登 录</el-button>\n            </el-form-item>\n            <el-form-item><el-button type=\"text\" @click=\"$router.push('/register')\">前往注册 >> </el-button></el-form-item>\n          </el-form>\n        </div>\n        \n      </div>\n      <video :style=\"fixStyle\" autoplay loop muted class=\"fillWidth\" v-on:canplay=\"canplay\">\n        <source src=\"../assets/mylivewallpapers.com-Slow-Mo-Ocean.mp4\" type=\"video/mp4\"/>\n        浏览器不支持 video 标签，建议升级浏览器。\n      </video>\n    </div>\n  </div>\n\n\n\n</template>\n\n<script>\nimport request from \"@/utils/request\";\nimport ValidCode from \"@/components/ValidCode\";\nimport {activeRouter} from \"@/utils/permission\";\n\n\nexport default {\n  name: \"Login\",\n  components: {\n    ValidCode,\n  },\n  data() {\n    return {\n      vedioCanPlay: false,\n      fixStyle: '',\n      form: {role: 1},\n      rules: {\n        username: [\n          {required: true, message: '请输入用户名', trigger: 'blur'},\n        ],\n        password: [\n          {required: true, message: '请输入密码', trigger: 'blur'},\n        ],\n      },\n      validCode: ''\n      // 加背景图片\n      // bg: {\n      //   backgroundImage: \"url(\" + require(\"@/assets/bg.jpg\") + \")\",\n      //   backgroundRepeat: \"no-repeat\",\n      //   backgroundSize: \"100% 100%\"\n      // }\n    }\n  },\n  mounted() {\n    sessionStorage.removeItem(\"user\")\n\n    window.onresize = () => {\n      const windowWidth = document.body.clientWidth\n      const windowHeight = document.body.clientHeight\n      const windowAspectRatio = windowHeight / windowWidth\n      let videoWidth\n      let videoHeight\n      if (windowAspectRatio < 0.5625) {\n        videoWidth = windowWidth\n        videoHeight = videoWidth * 0.5625\n        this.fixStyle = {\n          height: windowWidth * 0.5625 + 'px',\n          width: windowWidth + 'px',\n          'margin-bottom': (windowHeight - videoHeight) / 2 + 'px',\n          'margin-left': 'initial'\n        }\n      } else {\n        videoHeight = windowHeight\n        videoWidth = videoHeight / 0.5625\n        this.fixStyle = {\n          height: windowHeight + 'px',\n          width: windowHeight / 0.5625 + 'px',\n          'margin-left': (windowWidth - videoWidth) / 2 + 'px',\n          'margin-bottom': 'initial'\n        }\n      }\n    }\n    window.onresize()\n  },\n  methods: {\n    canplay() {\n      this.vedioCanPlay = true\n    },\n    login () {\n      this.$refs['form'].validate((valid) => {\n        if (valid) {\n          request.post(\"/admin/login\", this.form).then(res => {\n            if (res.code === '0') {\n              this.$message({\n                type: \"success\",\n                message: \"登录成功\"\n              })\n              sessionStorage.setItem(\"user\", JSON.stringify(res.data))  // 缓存用户信息\n\n              // 登录成功的时候更新当前路由\n              activeRouter()\n              this.$router.push(\"/\")  //登录成功之后进行页面的跳转，跳转到主页\n\n            } else {\n              this.$message({\n                type: \"error\",\n                message: res.msg\n              })\n            }\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.homepage-hero-module,\n.video-container {\n  position: relative;\n  height: 100vh;\n  overflow: hidden;\n}\n\n.video-container .poster img{\n  z-index: 0;\n  position: absolute;\n}\n\n.video-container .filter {\n  z-index: 1;\n  position: absolute;\n  /*background: rgba(0, 0, 0, 0.4);*/\n  width: 100%;\n}\n\n.fillWidth {\n  width: 100%;\n}\n</style>\n"]}]}